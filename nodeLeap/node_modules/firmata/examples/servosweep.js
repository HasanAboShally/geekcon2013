/**
 * Sample script to move a servo back and forth.
 */
var Board = require('../lib/firmata').Board;
var pin = 9;

function open() {
	sweep(1);
}

function close() {
	sweep(-1);
}

function sweep(direction) {
	var board = new Board('/dev/cu.usbmodem1411', function() {
		var iterations = 0;
		board.pinMode(pin,board.MODES.SERVO);
		setInterval(function(){
			if (iterations >= 10) {
				board.reset();
			} else {
				iterations++;
				board.servoWrite(pin,direction);
			}
		},500);
	});
}

close();
